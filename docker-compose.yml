version: '3'

services:

  web:
    build: .
    ports:
      - "80:80"
    volumes:
      - ./app:/var/www/apache-flask/app
      - ./data:/var/www/apache-flask/data
    command: su -c "sqlite3 /var/www/apache-flask/data/GolfServer.db < /var/www/apache-flask/data/GolfServer.sql && chown 1000:1000 /var/www/apache-flask/data/GolfServer.db && chmod 774 /var/www/apache-flask/data/GolfServer.db && /usr/sbin/apache2ctl -D FOREGROUND"
    restart: always
    container_name: web

